<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÆ API TESTER RETRO</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'VT323', monospace;
      background: #0a0e27;
      color: #00ff41;
      min-height: 100vh;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(0, 255, 65, 0.03) 0px,
          transparent 1px,
          transparent 2px,
          rgba(0, 255, 65, 0.03) 3px
        );
      pointer-events: none;
      animation: scanline 8s linear infinite;
      z-index: 1;
    }

    @keyframes scanline {
      0% { transform: translateY(0); }
      100% { transform: translateY(100%); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      animation: glitch 3s infinite;
    }

    @keyframes glitch {
      0%, 90%, 100% {
        transform: translate(0);
        filter: hue-rotate(0deg);
      }
      92% {
        transform: translate(-2px, 2px);
        filter: hue-rotate(90deg);
      }
      94% {
        transform: translate(2px, -2px);
        filter: hue-rotate(180deg);
      }
      96% {
        transform: translate(-2px, -2px);
        filter: hue-rotate(270deg);
      }
    }

    h1 {
      font-size: 60px;
      color: #ff00ff;
      text-shadow:
        3px 3px 0 #00ffff,
        -3px -3px 0 #ff00ff,
        3px -3px 0 #00ff00;
      letter-spacing: 5px;
      transform: rotate(-2deg);
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 24px;
      color: #00ffff;
      transform: rotate(1deg);
    }

    .test-section {
      background: rgba(255, 0, 255, 0.1);
      border: 3px solid #ff00ff;
      border-radius: 0;
      padding: 25px;
      margin-bottom: 30px;
      transform: rotate(-1deg);
      box-shadow:
        8px 8px 0 rgba(0, 255, 255, 0.3),
        -8px -8px 0 rgba(255, 255, 0, 0.3);
      transition: all 0.3s ease;
    }

    .test-section:hover {
      transform: rotate(1deg) scale(1.02);
      box-shadow:
        12px 12px 0 rgba(0, 255, 255, 0.5),
        -12px -12px 0 rgba(255, 255, 0, 0.5);
    }

    .test-section h2 {
      font-size: 32px;
      color: #ffff00;
      margin-bottom: 20px;
      transform: rotate(2deg);
      display: inline-block;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      font-size: 22px;
      color: #00ffff;
      margin-bottom: 8px;
      transform: rotate(-1deg);
      display: inline-block;
    }

    input[type="text"],
    input[type="file"],
    textarea,
    select {
      width: 100%;
      padding: 12px;
      font-family: 'VT323', monospace;
      font-size: 20px;
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #00ff41;
      color: #00ff41;
      transform: rotate(0.5deg);
      transition: all 0.3s ease;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #ff00ff;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
      transform: rotate(-0.5deg) scale(1.02);
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    .btn {
      font-family: 'VT323', monospace;
      font-size: 24px;
      padding: 15px 30px;
      background: linear-gradient(45deg, #ff00ff, #00ffff);
      color: #000;
      border: 3px solid #ffff00;
      cursor: pointer;
      transform: rotate(-2deg);
      box-shadow: 5px 5px 0 rgba(255, 255, 0, 0.5);
      transition: all 0.2s ease;
      font-weight: bold;
      margin-top: 10px;
    }

    .btn:hover {
      transform: rotate(2deg) scale(1.1);
      box-shadow: 8px 8px 0 rgba(255, 255, 0, 0.8);
      animation: wiggle 0.5s ease infinite;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(2deg) scale(1.1); }
      25% { transform: rotate(3deg) scale(1.1); }
      75% { transform: rotate(1deg) scale(1.1); }
    }

    .btn:active {
      transform: rotate(0deg) scale(0.95);
      box-shadow: 2px 2px 0 rgba(255, 255, 0, 0.8);
    }

    .response {
      margin-top: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ff41;
      border-radius: 0;
      font-size: 18px;
      white-space: pre-wrap;
      word-wrap: break-word;
      max-height: 300px;
      overflow-y: auto;
      transform: rotate(-0.5deg);
      display: none;
    }

    .response.show {
      display: block;
      animation: slideIn 0.5s ease;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: rotate(-0.5deg) translateX(-50px);
      }
      to {
        opacity: 1;
        transform: rotate(-0.5deg) translateX(0);
      }
    }

    .response.success {
      border-color: #00ff41;
      color: #00ff41;
    }

    .response.error {
      border-color: #ff0000;
      color: #ff0000;
    }

    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #fff;
      animation: twinkle 3s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }

    .method-badge {
      display: inline-block;
      padding: 5px 10px;
      font-size: 18px;
      font-weight: bold;
      margin-right: 10px;
      border: 2px solid;
      transform: rotate(-3deg);
    }

    .method-get { background: #61affe; color: #000; border-color: #61affe; }
    .method-post { background: #49cc90; color: #000; border-color: #49cc90; }
    .method-put { background: #fca130; color: #000; border-color: #fca130; }
    .method-delete { background: #f93e3e; color: #fff; border-color: #f93e3e; }

    .flex-row {
      display: flex;
      gap: 10px;
      align-items: flex-end;
    }

    .flex-row .form-group {
      flex: 1;
    }

    .flex-row .btn {
      flex-shrink: 0;
    }

    @media (max-width: 768px) {
      h1 { font-size: 40px; }
      .test-section { padding: 15px; }
      .flex-row { flex-direction: column; }
      .flex-row .btn { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>

  <div class="container">
    <div class="header">
      <h1>üéÆ API TESTER üéÆ</h1>
      <div class="subtitle">[ LOCALHOST:8080 EDITION ]</div>
    </div>

    <!-- GET Request -->
    <div class="test-section">
      <h2><span class="method-badge method-get">GET</span> Simple GET Request</h2>
      <div class="flex-row">
        <div class="form-group">
          <label>üîó Route:</label>
          <input type="text" id="getRoute" placeholder="/api/users" value="/auth/me">
        </div>
        <button class="btn" onclick="testGet()">SEND IT! üöÄ</button>
      </div>
      <div class="response" id="getResponse"></div>
    </div>

    <!-- POST JSON -->
    <div class="test-section">
      <h2><span class="method-badge method-post">POST</span> JSON Data</h2>
      <div class="form-group">
        <label>üîó Route:</label>
        <input type="text" id="postJsonRoute" placeholder="/api/create" value="/api/submit">
      </div>
      <div class="form-group">
        <label>üì¶ JSON Body:</label>
        <textarea id="postJsonBody" placeholder='{"key": "value"}'>{
  "name": "Test User",
  "email": "test@example.com"
}</textarea>
      </div>
      <button class="btn" onclick="testPostJson()">BLAST OFF! üí•</button>
      <div class="response" id="postJsonResponse"></div>
    </div>

    <!-- POST Form Data -->
    <div class="test-section">
      <h2><span class="method-badge method-post">POST</span> Form Data</h2>
      <div class="form-group">
        <label>üîó Route:</label>
        <input type="text" id="postFormRoute" placeholder="/api/form" value="/api/submit">
      </div>
      <div class="form-group">
        <label>üìù Field Name:</label>
        <input type="text" id="fieldName" placeholder="username" value="username">
      </div>
      <div class="form-group">
        <label>üí¨ Field Value:</label>
        <input type="text" id="fieldValue" placeholder="JohnDoe" value="CoolDude123">
      </div>
      <button class="btn" onclick="testPostForm()">YEEHAW! ü§†</button>
      <div class="response" id="postFormResponse"></div>
    </div>

    <!-- File Upload -->
    <div class="test-section">
      <h2><span class="method-badge method-post">POST</span> File Upload</h2>
      <div class="form-group">
        <label>üîó Route:</label>
        <input type="text" id="fileRoute" placeholder="/api/upload" value="/api/upload">
      </div>
      <div class="form-group">
        <label>üìÅ Choose File:</label>
        <input type="file" id="fileInput">
      </div>
      <button class="btn" onclick="testFileUpload()">UPLOAD! üì§</button>
      <div class="response" id="fileResponse"></div>
    </div>

    <!-- DELETE -->
    <div class="test-section">
      <h2><span class="method-badge method-delete">DELETE</span> Delete Request</h2>
      <div class="flex-row">
        <div class="form-group">
          <label>üîó Route:</label>
          <input type="text" id="deleteRoute" placeholder="/api/delete/123" value="/api/delete/1">
        </div>
        <button class="btn" onclick="testDelete()">DESTROY! üí£</button>
      </div>
      <div class="response" id="deleteResponse"></div>
    </div>

    <!-- PUT -->
    <div class="test-section">
      <h2><span class="method-badge method-put">PUT</span> Update Request</h2>
      <div class="form-group">
        <label>üîó Route:</label>
        <input type="text" id="putRoute" placeholder="/api/update/123" value="/api/update/1">
      </div>
      <div class="form-group">
        <label>üì¶ JSON Body:</label>
        <textarea id="putBody" placeholder='{"key": "value"}'>{
  "name": "Updated Name"
}</textarea>
      </div>
      <button class="btn" onclick="testPut()">UPDATE! ‚ú®</button>
      <div class="response" id="putResponse"></div>
    </div>

  </div>

  <script>
    // Generate stars
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 50; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.animationDelay = Math.random() * 3 + 's';
      starsContainer.appendChild(star);
    }

    const BASE_URL = 'http://localhost:8080';

    function showResponse(elementId, data, isError = false) {
      const el = document.getElementById(elementId);
      el.textContent = JSON.stringify(data, null, 2);
      el.className = 'response show ' + (isError ? 'error' : 'success');
    }

    async function testGet() {
      const route = document.getElementById('getRoute').value;
      try {
        const res = await fetch(BASE_URL + route, {
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('getResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('getResponse', { error: err.message }, true);
      }
    }

    async function testPostJson() {
      const route = document.getElementById('postJsonRoute').value;
      const body = document.getElementById('postJsonBody').value;
      try {
        const res = await fetch(BASE_URL + route, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: body,
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('postJsonResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('postJsonResponse', { error: err.message }, true);
      }
    }

    async function testPostForm() {
      const route = document.getElementById('postFormRoute').value;
      const fieldName = document.getElementById('fieldName').value;
      const fieldValue = document.getElementById('fieldValue').value;

      const formData = new FormData();
      formData.append(fieldName, fieldValue);

      try {
        const res = await fetch(BASE_URL + route, {
          method: 'POST',
          body: formData,
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('postFormResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('postFormResponse', { error: err.message }, true);
      }
    }

    async function testFileUpload() {
      const route = document.getElementById('fileRoute').value;
      const fileInput = document.getElementById('fileInput');

      if (!fileInput.files[0]) {
        showResponse('fileResponse', { error: 'Please select a file!' }, true);
        return;
      }

      const formData = new FormData();
      formData.append('file', fileInput.files[0]);

      try {
        const res = await fetch(BASE_URL + route, {
          method: 'POST',
          body: formData,
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('fileResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('fileResponse', { error: err.message }, true);
      }
    }

    async function testDelete() {
      const route = document.getElementById('deleteRoute').value;
      try {
        const res = await fetch(BASE_URL + route, {
          method: 'DELETE',
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('deleteResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('deleteResponse', { error: err.message }, true);
      }
    }

    async function testPut() {
      const route = document.getElementById('putRoute').value;
      const body = document.getElementById('putBody').value;
      try {
        const res = await fetch(BASE_URL + route, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: body,
          credentials: 'include'
        });
        const data = await res.json();
        showResponse('putResponse', { status: res.status, data }, !res.ok);
      } catch (err) {
        showResponse('putResponse', { error: err.message }, true);
      }
    }
  </script>
</body>
</html>